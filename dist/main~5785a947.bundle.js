!function(e){function t(t){for(var n,o,i=t[0],c=t[1],s=t[2],p=0,l=[];p<i.length;p++)o=i[p],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&l.push(a[o][0]),a[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(f&&f(t);l.length;)l.shift()();return u.push.apply(u,s||[]),r()}function r(){for(var e,t=0;t<u.length;t++){for(var r=u[t],n=!0,i=1;i<r.length;i++){var c=r[i];0!==a[c]&&(n=!1)}n&&(u.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},a={1:0},u=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var i=window.webpackJsonp=window.webpackJsonp||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var f=c;u.push([27,3,2,0]),r()}({1:function(e,t,r){"use strict";var n={KEY:"12345",BASE_URL:"https://dicoding-restaurant-api.el.r.appspot.com/",BASE_IMAGE_URL:"https://dicoding-restaurant-api.el.r.appspot.com/images/medium/",DEFAULT_LANGUAGE:"en-us",CACHE_NAME:(new Date).toISOString(),DATABASE_NAME:"food-share-database",DATABASE_VERSION:1,OBJECT_STORE_NAME:"berbaginasi"};t.a=n},12:function(e,t,r){"use strict";var n=r(2);t.a=function(e,t,r){var a={id:e.id,name:t,review:r};n.a.getDataReview(a)}},13:function(e,t,r){"use strict";var n=r(0);function a(e,t,r,n,a,u,o){try{var i=e[u](o),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(n,a)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,u){var o=e.apply(t,r);function i(e){a(o,n,u,i,c,"next",e)}function c(e){a(o,n,u,i,c,"throw",e)}i(void 0)}))}}var o={init:function(e){var t=this;return u(regeneratorRuntime.mark((function r(){var n,a,u;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.likeButtonContainer,a=e.favoriteRestaurants,u=e.restaurant,t._likeButtonContainer=n,t._restaurant=u,t._favoriteRestaurants=a,r.next=6,t._renderButton();case 6:case"end":return r.stop()}}),r)})))()},_renderButton:function(){var e=this;return u(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e._restaurant.id,t.next=3,e._isRestaurantExist(r);case 3:if(!t.sent){t.next=7;break}e._renderLiked(),t.next=8;break;case 7:e._renderLike();case 8:case"end":return t.stop()}}),t)})))()},_isRestaurantExist:function(e){var t=this;return u(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t._favoriteRestaurants.getRestaurant(e);case 2:return n=r.sent,r.abrupt("return",!!n);case 4:case"end":return r.stop()}}),r)})))()},_renderLike:function(){var e=this;this._likeButtonContainer.innerHTML=Object(n.c)(),document.querySelector("#likeButton").addEventListener("click",u(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._favoriteRestaurants.putRestaurant(e._restaurant);case 2:e._renderButton();case 3:case"end":return t.stop()}}),t)}))))},_renderLiked:function(){var e=this;this._likeButtonContainer.innerHTML=Object(n.f)(),document.querySelector("#likeButton").addEventListener("click",u(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._favoriteRestaurants.deleteRestaurant(e._restaurant.id);case 2:e._renderButton();case 3:case"end":return t.stop()}}),t)}))))}};t.a=o},2:function(e,t,r){"use strict";var n=r(1),a={RESTAURANT_LIST:"".concat(n.a.BASE_URL,"list"),DETAIL:function(e){return"".concat(n.a.BASE_URL,"detail/").concat(e)},REVIEW:"".concat(n.a.BASE_URL,"review")};function u(e,t,r,n,a,u,o){try{var i=e[u](o),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(n,a)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){u(o,n,a,i,c,"next",e)}function c(e){u(o,n,a,i,c,"throw",e)}i(void 0)}))}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,u,c,s,f;return t=e,r=null,u=[{key:"restaurantList",value:(f=o(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a.RESTAURANT_LIST);case 2:return t=e.sent,e.next=5,t.json();case 5:return r=e.sent,e.abrupt("return",r.restaurants);case 7:case"end":return e.stop()}}),e)}))),function(){return f.apply(this,arguments)})},{key:"restaurantDetail",value:(s=o(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a.DETAIL(t));case 2:return r=e.sent,e.next=5,r.json();case 5:return n=e.sent,e.abrupt("return",n.restaurant);case 7:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)})},{key:"getDataReview",value:(c=o(regeneratorRuntime.mark((function e(t){var r,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a.REVIEW,{method:"POST",headers:{"Content-Type":"application/json","X-Auth-Token":n.a.KEY},body:JSON.stringify(t)});case 2:return r=e.sent,e.next=5,r.json();case 5:return u=e.sent,e.abrupt("return",u);case 7:case"end":return e.stop()}}),e)}))),function(e){return c.apply(this,arguments)})}],r&&i(t.prototype,r),u&&i(t,u),e}();t.a=c},27:function(e,t,r){"use strict";r.r(t);r(17),r(18),r(20),r(6),r(22),r(23),r(24),r(25);var n={init:function(e){var t=this,r=e.button,n=e.drawer,a=e.content;r.addEventListener("click",(function(e){t._toggleDrawer(e,n)})),a.addEventListener("click",(function(e){t._closeDrawer(e,n)}))},_toggleDrawer:function(e,t){e.stopPropagation(),t.classList.toggle("open")},_closeDrawer:function(e,t){e.stopPropagation(),t.classList.remove("open")}},a=r(3),u=r(7),o=r(10),i=r(11),c=r(14),s={"/":u.a,"/home":u.a,"/favorites":o.a,"/about-us":c.a,"/detail/:id":i.a};function f(e,t,r,n,a,u,o){try{var i=e[u](o),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(n,a)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=function(){function e(t){var r=t.button,n=t.drawer,a=t.content;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._button=r,this._drawer=n,this._content=a,this._initialAppShell()}var t,r,u,o,i;return t=e,(r=[{key:"_initialAppShell",value:function(){n.init({button:this._button,drawer:this._drawer,content:this._content})}},{key:"renderPage",value:(o=regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.a.parseActiveUrlWithCombiner(),r=s[t],e.next=4,r.render();case 4:return this._content.innerHTML=e.sent,e.next=7,r.afterRender();case 7:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(r,n){var a=o.apply(e,t);function u(e){f(a,r,n,u,i,"next",e)}function i(e){f(a,r,n,u,i,"throw",e)}u(void 0)}))},function(){return i.apply(this,arguments)})}])&&p(t.prototype,r),u&&p(t,u),e}(),v=r(15);function d(e,t,r,n,a,u,o){try{var i=e[u](o),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(n,a)}var h=function(){var e,t=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"serviceWorker"in navigator&&new v.a("../sw.js").register();case 1:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var u=e.apply(t,r);function o(e){d(u,n,a,o,i,"next",e)}function i(e){d(u,n,a,o,i,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}(),m=new l({button:document.querySelector("#hamburgerButton"),drawer:document.querySelector("#navigationDrawer"),content:document.querySelector("#mainContent")});window.addEventListener("hashchange",(function(){m.renderPage()})),window.addEventListener("load",(function(){m.renderPage(),h()}))},3:function(e,t,r){"use strict";var n={parseActiveUrlWithCombiner:function(){var e=window.location.hash.slice(1).toLowerCase(),t=this._urlSplitter(e);return this._urlCombiner(t)},parseActiveUrlWithoutCombiner:function(){var e=window.location.hash.slice(1).toLowerCase();return this._urlSplitter(e)},_urlSplitter:function(e){var t=e.split("/");return{resource:t[1]||null,id:t[2]||null,verb:t[3]||null}},_urlCombiner:function(e){return(e.resource?"/".concat(e.resource):"/")+(e.id?"/:id":"")+(e.verb?"/".concat(e.verb):"")}};t.a=n},4:function(e,t,r){"use strict";var n=r(16),a=r(1);function u(e,t,r,n,a,u,o){try{var i=e[u](o),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(n,a)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){u(o,n,a,i,c,"next",e)}function c(e){u(o,n,a,i,c,"throw",e)}i(void 0)}))}}var i=a.a.DATABASE_NAME,c=a.a.DATABASE_VERSION,s=a.a.OBJECT_STORE_NAME,f=Object(n.a)(i,c,{upgrade:function(e){e.createObjectStore(s,{keyPath:"id"})}}),p={getRestaurant:function(e){return o(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,f;case 4:return t.abrupt("return",t.sent.get(s,e));case 5:case"end":return t.stop()}}),t)})))()},getAllRestaurant:function(){return o(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f;case 2:return e.abrupt("return",e.sent.getAll(s));case 3:case"end":return e.stop()}}),e)})))()},putRestaurant:function(e){return o(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.hasOwnProperty("id")){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,f;case 4:return t.abrupt("return",t.sent.put(s,e));case 5:case"end":return t.stop()}}),t)})))()},deleteRestaurant:function(e){return o(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f;case 2:return t.abrupt("return",t.sent.delete(s,e));case 3:case"end":return t.stop()}}),t)})))()}};t.a=p}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvZ2xvYmFscy9jb25maWcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvdXRpbHMvcmV2aWV3LWluaWF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvdXRpbHMvbGlrZS1idXR0b24tcHJlc2VudGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL2dsb2JhbHMvYXBpLWVuZHBvaW50LmpzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL2RhdGEvY2F0YWxvZ2RiLXNvdXJjZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy91dGlscy9kcmF3ZXItaW5pdGlhdG9yLmpzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL3JvdXRlcy9yb3V0ZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvdmlld3MvYXBwLmpzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL3V0aWxzL3N3LXJlZ2lzdGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL3JvdXRlcy91cmwtcGFyc2VyLmpzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL2RhdGEvZmF2cmVzdGF1cmFudC1kYi5qcyJdLCJuYW1lcyI6WyJ3ZWJwYWNrSnNvbnBDYWxsYmFjayIsImRhdGEiLCJtb2R1bGVJZCIsImNodW5rSWQiLCJjaHVua0lkcyIsIm1vcmVNb2R1bGVzIiwiZXhlY3V0ZU1vZHVsZXMiLCJpIiwicmVzb2x2ZXMiLCJsZW5ndGgiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpbnN0YWxsZWRDaHVua3MiLCJwdXNoIiwibW9kdWxlcyIsInBhcmVudEpzb25wRnVuY3Rpb24iLCJzaGlmdCIsImRlZmVycmVkTW9kdWxlcyIsImFwcGx5IiwiY2hlY2tEZWZlcnJlZE1vZHVsZXMiLCJyZXN1bHQiLCJkZWZlcnJlZE1vZHVsZSIsImZ1bGZpbGxlZCIsImoiLCJkZXBJZCIsInNwbGljZSIsIl9fd2VicGFja19yZXF1aXJlX18iLCJzIiwiaW5zdGFsbGVkTW9kdWxlcyIsIjEiLCJleHBvcnRzIiwibW9kdWxlIiwibCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwIiwianNvbnBBcnJheSIsIndpbmRvdyIsIm9sZEpzb25wRnVuY3Rpb24iLCJzbGljZSIsIkNPTkZJRyIsIktFWSIsIkJBU0VfVVJMIiwiQkFTRV9JTUFHRV9VUkwiLCJERUZBVUxUX0xBTkdVQUdFIiwiQ0FDSEVfTkFNRSIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsIkRBVEFCQVNFX05BTUUiLCJEQVRBQkFTRV9WRVJTSU9OIiwiT0JKRUNUX1NUT1JFX05BTUUiLCJDcmVhdGVSZXZpZXdJbml0aWF0b3IiLCJ1cmwiLCJyZXZpZXciLCJkYXRhSW5wdXQiLCJpZCIsIlJlc3RhdXJhbnREYlNvdXJjZSIsImdldERhdGFSZXZpZXciLCJMaWtlQnV0dG9uUHJlc2VudGVyIiwiaW5pdCIsImxpa2VCdXR0b25Db250YWluZXIiLCJmYXZvcml0ZVJlc3RhdXJhbnRzIiwicmVzdGF1cmFudCIsIl9saWtlQnV0dG9uQ29udGFpbmVyIiwiX3Jlc3RhdXJhbnQiLCJfZmF2b3JpdGVSZXN0YXVyYW50cyIsIl9yZW5kZXJCdXR0b24iLCJfaXNSZXN0YXVyYW50RXhpc3QiLCJfcmVuZGVyTGlrZWQiLCJfcmVuZGVyTGlrZSIsImdldFJlc3RhdXJhbnQiLCJjYXRhbG9nIiwidGhpcyIsImlubmVySFRNTCIsImNyZWF0ZUxpa2VSZXN0YXVyYW50QnV0dG9uVGVtcGxhdGUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRFdmVudExpc3RlbmVyIiwicHV0UmVzdGF1cmFudCIsImNyZWF0ZVVubGlrZVJlc3RhdXJhbnRCdXR0b25UZW1wbGF0ZSIsImRlbGV0ZVJlc3RhdXJhbnQiLCJBUElfRU5EUE9JTlQiLCJSRVNUQVVSQU5UX0xJU1QiLCJERVRBSUwiLCJSRVZJRVciLCJUaGVDYXRhbG9nRGJTb3VyY2UiLCJmZXRjaCIsInJlc3BvbnNlIiwianNvbiIsInJlc3BvbnNlSnNvbiIsInJlc3RhdXJhbnRzIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiRHJhd2VySW5pdGlhdG9yIiwiYnV0dG9uIiwiZHJhd2VyIiwiY29udGVudCIsImV2ZW50IiwiX3RvZ2dsZURyYXdlciIsIl9jbG9zZURyYXdlciIsInN0b3BQcm9wYWdhdGlvbiIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInJlbW92ZSIsInJvdXRlcyIsIkhvbWUiLCJGYXZvcml0ZXMiLCJBYm91dFVzIiwiRGV0YWlsIiwiQXBwIiwiX2J1dHRvbiIsIl9kcmF3ZXIiLCJfY29udGVudCIsIl9pbml0aWFsQXBwU2hlbGwiLCJVcmxQYXJzZXIiLCJwYXJzZUFjdGl2ZVVybFdpdGhDb21iaW5lciIsInBhZ2UiLCJyZW5kZXIiLCJhZnRlclJlbmRlciIsInN3UmVnaXN0ZXIiLCJuYXZpZ2F0b3IiLCJXb3JrYm94IiwicmVnaXN0ZXIiLCJhcHAiLCJyZW5kZXJQYWdlIiwibG9jYXRpb24iLCJoYXNoIiwidG9Mb3dlckNhc2UiLCJzcGxpdGVkVXJsIiwiX3VybFNwbGl0dGVyIiwiX3VybENvbWJpbmVyIiwicGFyc2VBY3RpdmVVcmxXaXRob3V0Q29tYmluZXIiLCJ1cmxzU3BsaXRzIiwic3BsaXQiLCJyZXNvdXJjZSIsInZlcmIiLCJkYlByb21pc2UiLCJvcGVuREIiLCJ1cGdyYWRlIiwiZGF0YWJhc2UiLCJjcmVhdGVPYmplY3RTdG9yZSIsImtleVBhdGgi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bUIsQ0FDakIzRSxjQURpQixTQUNGZixHQUFJLGtJQUNsQkEsRUFEa0IsaUVBS1RvRixFQUxTLHVDQUtFdkgsSUFBSThCLEVBQW1CSyxJQUx6Qiw4Q0FPbkIyRixpQkFSaUIsV0FRRywrSUFDVlAsRUFEVSx1Q0FDQ1EsT0FBT2pHLElBRFIsOENBR3BCNEIsY0FYaUIsU0FXRmhCLEdBQVksa0lBRTFCQSxFQUFXekUsZUFBZSxNQUZBLGlFQU1qQnNKLEVBTmlCLHVDQU1OUyxJQUFJbEcsRUFBbUJZLElBTmpCLDhDQVEzQmtCLGlCQW5CaUIsU0FtQkN6QixHQUFJLCtJQUNab0YsRUFEWSw4Q0FDTXpGLEVBQW1CSyxJQUR6QiwrQ0FLZjBGIiwiZmlsZSI6Im1haW5+NTc4NWE5NDcuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG4gXHRmdW5jdGlvbiB3ZWJwYWNrSnNvbnBDYWxsYmFjayhkYXRhKSB7XG4gXHRcdHZhciBjaHVua0lkcyA9IGRhdGFbMF07XG4gXHRcdHZhciBtb3JlTW9kdWxlcyA9IGRhdGFbMV07XG4gXHRcdHZhciBleGVjdXRlTW9kdWxlcyA9IGRhdGFbMl07XG5cbiBcdFx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG4gXHRcdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuIFx0XHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwLCByZXNvbHZlcyA9IFtdO1xuIFx0XHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSAmJiBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcbiBcdFx0XHRcdHJlc29sdmVzLnB1c2goaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdWzBdKTtcbiBcdFx0XHR9XG4gXHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gMDtcbiBcdFx0fVxuIFx0XHRmb3IobW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuIFx0XHRcdFx0bW9kdWxlc1ttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGlmKHBhcmVudEpzb25wRnVuY3Rpb24pIHBhcmVudEpzb25wRnVuY3Rpb24oZGF0YSk7XG5cbiBcdFx0d2hpbGUocmVzb2x2ZXMubGVuZ3RoKSB7XG4gXHRcdFx0cmVzb2x2ZXMuc2hpZnQoKSgpO1xuIFx0XHR9XG5cbiBcdFx0Ly8gYWRkIGVudHJ5IG1vZHVsZXMgZnJvbSBsb2FkZWQgY2h1bmsgdG8gZGVmZXJyZWQgbGlzdFxuIFx0XHRkZWZlcnJlZE1vZHVsZXMucHVzaC5hcHBseShkZWZlcnJlZE1vZHVsZXMsIGV4ZWN1dGVNb2R1bGVzIHx8IFtdKTtcblxuIFx0XHQvLyBydW4gZGVmZXJyZWQgbW9kdWxlcyB3aGVuIGFsbCBjaHVua3MgcmVhZHlcbiBcdFx0cmV0dXJuIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCk7XG4gXHR9O1xuIFx0ZnVuY3Rpb24gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKSB7XG4gXHRcdHZhciByZXN1bHQ7XG4gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBkZWZlcnJlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHR2YXIgZGVmZXJyZWRNb2R1bGUgPSBkZWZlcnJlZE1vZHVsZXNbaV07XG4gXHRcdFx0dmFyIGZ1bGZpbGxlZCA9IHRydWU7XG4gXHRcdFx0Zm9yKHZhciBqID0gMTsgaiA8IGRlZmVycmVkTW9kdWxlLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHR2YXIgZGVwSWQgPSBkZWZlcnJlZE1vZHVsZVtqXTtcbiBcdFx0XHRcdGlmKGluc3RhbGxlZENodW5rc1tkZXBJZF0gIT09IDApIGZ1bGZpbGxlZCA9IGZhbHNlO1xuIFx0XHRcdH1cbiBcdFx0XHRpZihmdWxmaWxsZWQpIHtcbiBcdFx0XHRcdGRlZmVycmVkTW9kdWxlcy5zcGxpY2UoaS0tLCAxKTtcbiBcdFx0XHRcdHJlc3VsdCA9IF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gZGVmZXJyZWRNb2R1bGVbMF0pO1xuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdHJldHVybiByZXN1bHQ7XG4gXHR9XG5cbiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4gXHQvLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbiBcdC8vIFByb21pc2UgPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG4gXHR2YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuIFx0XHQxOiAwXG4gXHR9O1xuXG4gXHR2YXIgZGVmZXJyZWRNb2R1bGVzID0gW107XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdHZhciBqc29ucEFycmF5ID0gd2luZG93W1wid2VicGFja0pzb25wXCJdID0gd2luZG93W1wid2VicGFja0pzb25wXCJdIHx8IFtdO1xuIFx0dmFyIG9sZEpzb25wRnVuY3Rpb24gPSBqc29ucEFycmF5LnB1c2guYmluZChqc29ucEFycmF5KTtcbiBcdGpzb25wQXJyYXkucHVzaCA9IHdlYnBhY2tKc29ucENhbGxiYWNrO1xuIFx0anNvbnBBcnJheSA9IGpzb25wQXJyYXkuc2xpY2UoKTtcbiBcdGZvcih2YXIgaSA9IDA7IGkgPCBqc29ucEFycmF5Lmxlbmd0aDsgaSsrKSB3ZWJwYWNrSnNvbnBDYWxsYmFjayhqc29ucEFycmF5W2ldKTtcbiBcdHZhciBwYXJlbnRKc29ucEZ1bmN0aW9uID0gb2xkSnNvbnBGdW5jdGlvbjtcblxuXG4gXHQvLyBhZGQgZW50cnkgbW9kdWxlIHRvIGRlZmVycmVkIGxpc3RcbiBcdGRlZmVycmVkTW9kdWxlcy5wdXNoKFsyNywzLDIsMF0pO1xuIFx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiByZWFkeVxuIFx0cmV0dXJuIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCk7XG4iLCJjb25zdCBDT05GSUcgPSB7XG4gIEtFWTogJzEyMzQ1JyxcbiAgQkFTRV9VUkw6ICdodHRwczovL2RpY29kaW5nLXJlc3RhdXJhbnQtYXBpLmVsLnIuYXBwc3BvdC5jb20vJyxcbiAgQkFTRV9JTUFHRV9VUkw6XG4gICAgJ2h0dHBzOi8vZGljb2RpbmctcmVzdGF1cmFudC1hcGkuZWwuci5hcHBzcG90LmNvbS9pbWFnZXMvbWVkaXVtLycsXG4gIERFRkFVTFRfTEFOR1VBR0U6ICdlbi11cycsXG4gIENBQ0hFX05BTUU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgREFUQUJBU0VfTkFNRTogJ2Zvb2Qtc2hhcmUtZGF0YWJhc2UnLFxuICBEQVRBQkFTRV9WRVJTSU9OOiAxLFxuICBPQkpFQ1RfU1RPUkVfTkFNRTogJ2JlcmJhZ2luYXNpJ1xufVxuXG5leHBvcnQgZGVmYXVsdCBDT05GSUdcbiIsImltcG9ydCBSZXN0YXVyYW50RGJTb3VyY2UgZnJvbSAnLi4vZGF0YS9jYXRhbG9nZGItc291cmNlJ1xuXG5jb25zdCBDcmVhdGVSZXZpZXdJbml0aWF0b3IgPSAodXJsLCBuYW1lLCByZXZpZXcpID0+IHtcbiAgY29uc3QgZGF0YUlucHV0ID0ge1xuICAgIGlkOiB1cmwuaWQsXG4gICAgbmFtZSxcbiAgICByZXZpZXdcbiAgfVxuICBSZXN0YXVyYW50RGJTb3VyY2UuZ2V0RGF0YVJldmlldyhkYXRhSW5wdXQpXG59XG5leHBvcnQgZGVmYXVsdCBDcmVhdGVSZXZpZXdJbml0aWF0b3JcbiIsImltcG9ydCB7XHJcbiAgY3JlYXRlTGlrZVJlc3RhdXJhbnRCdXR0b25UZW1wbGF0ZSxcclxuICBjcmVhdGVVbmxpa2VSZXN0YXVyYW50QnV0dG9uVGVtcGxhdGVcclxufVxyXG4gIGZyb20gJy4uL3ZpZXdzL3RlbXBsYXRlcy90ZW1wbGF0ZS1jcmVhdG9yJ1xyXG5cclxuY29uc3QgTGlrZUJ1dHRvblByZXNlbnRlciA9IHtcclxuICBhc3luYyBpbml0ICh7IGxpa2VCdXR0b25Db250YWluZXIsIGZhdm9yaXRlUmVzdGF1cmFudHMsIHJlc3RhdXJhbnQgfSkge1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbkNvbnRhaW5lciA9IGxpa2VCdXR0b25Db250YWluZXJcclxuICAgIHRoaXMuX3Jlc3RhdXJhbnQgPSByZXN0YXVyYW50XHJcbiAgICB0aGlzLl9mYXZvcml0ZVJlc3RhdXJhbnRzID0gZmF2b3JpdGVSZXN0YXVyYW50c1xyXG5cclxuICAgIGF3YWl0IHRoaXMuX3JlbmRlckJ1dHRvbigpXHJcbiAgfSxcclxuXHJcbiAgYXN5bmMgX3JlbmRlckJ1dHRvbiAoKSB7XHJcbiAgICBjb25zdCB7IGlkIH0gPSB0aGlzLl9yZXN0YXVyYW50XHJcblxyXG4gICAgaWYgKGF3YWl0IHRoaXMuX2lzUmVzdGF1cmFudEV4aXN0KGlkKSkge1xyXG4gICAgICB0aGlzLl9yZW5kZXJMaWtlZCgpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9yZW5kZXJMaWtlKClcclxuICAgIH1cclxuICB9LFxyXG5cclxuICBhc3luYyBfaXNSZXN0YXVyYW50RXhpc3QgKGlkKSB7XHJcbiAgICBjb25zdCBjYXRhbG9nID0gYXdhaXQgdGhpcy5fZmF2b3JpdGVSZXN0YXVyYW50cy5nZXRSZXN0YXVyYW50KGlkKVxyXG4gICAgcmV0dXJuICEhY2F0YWxvZ1xyXG4gIH0sXHJcblxyXG4gIF9yZW5kZXJMaWtlICgpIHtcclxuICAgIHRoaXMuX2xpa2VCdXR0b25Db250YWluZXIuaW5uZXJIVE1MID0gY3JlYXRlTGlrZVJlc3RhdXJhbnRCdXR0b25UZW1wbGF0ZSgpXHJcblxyXG4gICAgY29uc3QgbGlrZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsaWtlQnV0dG9uJylcclxuICAgIGxpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGF3YWl0IHRoaXMuX2Zhdm9yaXRlUmVzdGF1cmFudHMucHV0UmVzdGF1cmFudCh0aGlzLl9yZXN0YXVyYW50KVxyXG4gICAgICB0aGlzLl9yZW5kZXJCdXR0b24oKVxyXG4gICAgfSlcclxuICB9LFxyXG5cclxuICBfcmVuZGVyTGlrZWQgKCkge1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbkNvbnRhaW5lci5pbm5lckhUTUwgPSBjcmVhdGVVbmxpa2VSZXN0YXVyYW50QnV0dG9uVGVtcGxhdGUoKVxyXG5cclxuICAgIGNvbnN0IGxpa2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbGlrZUJ1dHRvbicpXHJcbiAgICBsaWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBhd2FpdCB0aGlzLl9mYXZvcml0ZVJlc3RhdXJhbnRzLmRlbGV0ZVJlc3RhdXJhbnQodGhpcy5fcmVzdGF1cmFudC5pZClcclxuICAgICAgdGhpcy5fcmVuZGVyQnV0dG9uKClcclxuICAgIH0pXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBMaWtlQnV0dG9uUHJlc2VudGVyXHJcbiIsImltcG9ydCBDT05GSUcgZnJvbSAnLi9jb25maWcnXG5cbmNvbnN0IEFQSV9FTkRQT0lOVCA9IHtcbiAgUkVTVEFVUkFOVF9MSVNUOiBgJHtDT05GSUcuQkFTRV9VUkx9bGlzdGAsXG4gIERFVEFJTDogKGlkKSA9PiBgJHtDT05GSUcuQkFTRV9VUkx9ZGV0YWlsLyR7aWR9YCxcbiAgUkVWSUVXOiBgJHtDT05GSUcuQkFTRV9VUkx9cmV2aWV3YFxufVxuXG5leHBvcnQgZGVmYXVsdCBBUElfRU5EUE9JTlRcbiIsImltcG9ydCBBUElfRU5EUE9JTlQgZnJvbSAnLi4vZ2xvYmFscy9hcGktZW5kcG9pbnQnXG5pbXBvcnQgQ09ORklHIGZyb20gJy4uL2dsb2JhbHMvY29uZmlnJ1xuXG5jbGFzcyBUaGVDYXRhbG9nRGJTb3VyY2Uge1xuICBzdGF0aWMgYXN5bmMgcmVzdGF1cmFudExpc3QgKCkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goQVBJX0VORFBPSU5ULlJFU1RBVVJBTlRfTElTVClcbiAgICBjb25zdCByZXNwb25zZUpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKClcbiAgICByZXR1cm4gcmVzcG9uc2VKc29uLnJlc3RhdXJhbnRzXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgcmVzdGF1cmFudERldGFpbCAoaWQpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKEFQSV9FTkRQT0lOVC5ERVRBSUwoaWQpKVxuICAgIGNvbnN0IHJlc3BvbnNlSnNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxuICAgIHJldHVybiByZXNwb25zZUpzb24ucmVzdGF1cmFudFxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGdldERhdGFSZXZpZXcgKGRhdGEpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKEFQSV9FTkRQT0lOVC5SRVZJRVcsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAnWC1BdXRoLVRva2VuJzogQ09ORklHLktFWVxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpXG4gICAgfSlcbiAgICBjb25zdCByZXNwb25zZUpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKClcbiAgICByZXR1cm4gcmVzcG9uc2VKc29uXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVGhlQ2F0YWxvZ0RiU291cmNlXG4iLCJjb25zdCBEcmF3ZXJJbml0aWF0b3IgPSB7XG4gIGluaXQgKHsgYnV0dG9uLCBkcmF3ZXIsIGNvbnRlbnQgfSkge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgdGhpcy5fdG9nZ2xlRHJhd2VyKGV2ZW50LCBkcmF3ZXIpXG4gICAgfSlcblxuICAgIGNvbnRlbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMuX2Nsb3NlRHJhd2VyKGV2ZW50LCBkcmF3ZXIpXG4gICAgfSlcbiAgfSxcblxuICBfdG9nZ2xlRHJhd2VyIChldmVudCwgZHJhd2VyKSB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICBkcmF3ZXIuY2xhc3NMaXN0LnRvZ2dsZSgnb3BlbicpXG4gIH0sXG5cbiAgX2Nsb3NlRHJhd2VyIChldmVudCwgZHJhd2VyKSB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICBkcmF3ZXIuY2xhc3NMaXN0LnJlbW92ZSgnb3BlbicpXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRHJhd2VySW5pdGlhdG9yXG4iLCJcbmltcG9ydCBIb21lIGZyb20gJy4uL3ZpZXdzL3BhZ2VzL2hvbWUnXG5pbXBvcnQgRmF2b3JpdGVzIGZyb20gJy4uL3ZpZXdzL3BhZ2VzL2Zhdm9yaXRlcydcbmltcG9ydCBEZXRhaWwgZnJvbSAnLi4vdmlld3MvcGFnZXMvZGV0YWlsJ1xuaW1wb3J0IEFib3V0VXMgZnJvbSAnLi4vdmlld3MvcGFnZXMvYWJvdXQtdXMnXG5cbmNvbnN0IHJvdXRlcyA9IHtcbiAgJy8nOiBIb21lLCAvLyBkZWZhdWx0IHBhZ2VcbiAgJy9ob21lJzogSG9tZSxcbiAgJy9mYXZvcml0ZXMnOiBGYXZvcml0ZXMsXG4gICcvYWJvdXQtdXMnOiBBYm91dFVzLFxuICAnL2RldGFpbC86aWQnOiBEZXRhaWxcbn1cblxuZXhwb3J0IGRlZmF1bHQgcm91dGVzXG4iLCJpbXBvcnQgRHJhd2VySW5pdGlhdG9yIGZyb20gJy4uL3V0aWxzL2RyYXdlci1pbml0aWF0b3InXG5pbXBvcnQgVXJsUGFyc2VyIGZyb20gJy4uL3JvdXRlcy91cmwtcGFyc2VyJ1xuaW1wb3J0IHJvdXRlcyBmcm9tICcuLi9yb3V0ZXMvcm91dGVzJ1xuXG5jbGFzcyBBcHAge1xuICBjb25zdHJ1Y3RvciAoeyBidXR0b24sIGRyYXdlciwgY29udGVudCB9KSB7XG4gICAgdGhpcy5fYnV0dG9uID0gYnV0dG9uXG4gICAgdGhpcy5fZHJhd2VyID0gZHJhd2VyXG4gICAgdGhpcy5fY29udGVudCA9IGNvbnRlbnRcblxuICAgIHRoaXMuX2luaXRpYWxBcHBTaGVsbCgpXG4gIH1cblxuICBfaW5pdGlhbEFwcFNoZWxsICgpIHtcbiAgICBEcmF3ZXJJbml0aWF0b3IuaW5pdCh7XG4gICAgICBidXR0b246IHRoaXMuX2J1dHRvbixcbiAgICAgIGRyYXdlcjogdGhpcy5fZHJhd2VyLFxuICAgICAgY29udGVudDogdGhpcy5fY29udGVudFxuICAgIH0pXG4gIH1cblxuICBhc3luYyByZW5kZXJQYWdlICgpIHtcbiAgICBjb25zdCB1cmwgPSBVcmxQYXJzZXIucGFyc2VBY3RpdmVVcmxXaXRoQ29tYmluZXIoKVxuICAgIGNvbnN0IHBhZ2UgPSByb3V0ZXNbdXJsXVxuICAgIHRoaXMuX2NvbnRlbnQuaW5uZXJIVE1MID0gYXdhaXQgcGFnZS5yZW5kZXIoKVxuICAgIGF3YWl0IHBhZ2UuYWZ0ZXJSZW5kZXIoKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFwcFxuIiwiLy8gaW1wb3J0IHJ1bnRpbWUgZnJvbSAnc2VydmljZXdvcmtlci13ZWJwYWNrLXBsdWdpbi9saWIvcnVudGltZSdcbmltcG9ydCB7IFdvcmtib3ggfSBmcm9tICd3b3JrYm94LXdpbmRvdydcblxuY29uc3Qgc3dSZWdpc3RlciA9IGFzeW5jICgpID0+IHtcbiAgaWYgKCdzZXJ2aWNlV29ya2VyJyBpbiBuYXZpZ2F0b3IpIHtcbiAgICAvLyBhd2FpdCBydW50aW1lLnJlZ2lzdGVyKClcbiAgICAvLyByZXR1cm5cbiAgICBjb25zdCB3b3JrYm94ID0gbmV3IFdvcmtib3goJy4uL3N3LmpzJylcbiAgICB3b3JrYm94LnJlZ2lzdGVyKClcbiAgfVxuICAvLyBjb25zb2xlLmxvZygnU2VydmljZSB3b3JrZXIgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXInKVxufVxuXG5leHBvcnQgZGVmYXVsdCBzd1JlZ2lzdGVyXG4iLCJpbXBvcnQgJ3JlZ2VuZXJhdG9yLXJ1bnRpbWUnIC8qIGZvciBhc3luYyBhd2FpdCB0cmFuc3BpbGUgKi9cbmltcG9ydCAnLi4vc3R5bGVzL21haW4uY3NzJ1xuaW1wb3J0ICcuLi9zdHlsZXMvcmVzcG9uc2l2ZS5jc3MnXG5cbi8vIGxhenlsb2FkaW5nXG5pbXBvcnQgJ2xhenlzaXplcydcbmltcG9ydCAnbGF6eXNpemVzL3BsdWdpbnMvcGFyZW50LWZpdC9scy5wYXJlbnQtZml0J1xuXG4vLyBwYXJ0c1xuaW1wb3J0ICcuL3ZpZXdzL3BhcnRzL2hlcm8tYmFyJ1xuaW1wb3J0ICcuL3ZpZXdzL3BhcnRzL2l0ZW0tZmVhdHVyZWQnXG5pbXBvcnQgJy4vdmlld3MvcGFydHMvaGVhZGVyLWJhcidcblxuaW1wb3J0IEFwcCBmcm9tICcuL3ZpZXdzL2FwcCdcbmltcG9ydCBzd1JlZ2lzdGVyIGZyb20gJy4vdXRpbHMvc3ctcmVnaXN0ZXInXG5cbmNvbnN0IGFwcCA9IG5ldyBBcHAoe1xuICAvLyBzY3JvbGxpbmcgaGVhZGVyXG4gIGJ1dHRvbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2hhbWJ1cmdlckJ1dHRvbicpLFxuICBkcmF3ZXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuYXZpZ2F0aW9uRHJhd2VyJyksXG4gIGNvbnRlbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtYWluQ29udGVudCcpXG59KVxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsICgpID0+IHtcbiAgYXBwLnJlbmRlclBhZ2UoKVxufSlcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG4gIGFwcC5yZW5kZXJQYWdlKClcbiAgc3dSZWdpc3RlcigpXG59KVxuIiwiY29uc3QgVXJsUGFyc2VyID0ge1xuICBwYXJzZUFjdGl2ZVVybFdpdGhDb21iaW5lciAoKSB7XG4gICAgY29uc3QgdXJsID0gd2luZG93LmxvY2F0aW9uLmhhc2guc2xpY2UoMSkudG9Mb3dlckNhc2UoKVxuICAgIGNvbnN0IHNwbGl0ZWRVcmwgPSB0aGlzLl91cmxTcGxpdHRlcih1cmwpXG4gICAgcmV0dXJuIHRoaXMuX3VybENvbWJpbmVyKHNwbGl0ZWRVcmwpXG4gIH0sXG5cbiAgcGFyc2VBY3RpdmVVcmxXaXRob3V0Q29tYmluZXIgKCkge1xuICAgIGNvbnN0IHVybCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpLnRvTG93ZXJDYXNlKClcbiAgICByZXR1cm4gdGhpcy5fdXJsU3BsaXR0ZXIodXJsKVxuICB9LFxuXG4gIF91cmxTcGxpdHRlciAodXJsKSB7XG4gICAgY29uc3QgdXJsc1NwbGl0cyA9IHVybC5zcGxpdCgnLycpXG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc291cmNlOiB1cmxzU3BsaXRzWzFdIHx8IG51bGwsXG4gICAgICBpZDogdXJsc1NwbGl0c1syXSB8fCBudWxsLFxuICAgICAgdmVyYjogdXJsc1NwbGl0c1szXSB8fCBudWxsXG4gICAgfVxuICB9LFxuXG4gIF91cmxDb21iaW5lciAoc3BsaXRlZFVybCkge1xuICAgIHJldHVybiAoXG4gICAgICAoc3BsaXRlZFVybC5yZXNvdXJjZSA/IGAvJHtzcGxpdGVkVXJsLnJlc291cmNlfWAgOiAnLycpICtcbiAgICAgIChzcGxpdGVkVXJsLmlkID8gJy86aWQnIDogJycpICtcbiAgICAgIChzcGxpdGVkVXJsLnZlcmIgPyBgLyR7c3BsaXRlZFVybC52ZXJifWAgOiAnJylcbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVXJsUGFyc2VyXG4iLCJpbXBvcnQgeyBvcGVuREIgfSBmcm9tICdpZGInXG5pbXBvcnQgQ09ORklHIGZyb20gJy4uL2dsb2JhbHMvY29uZmlnJ1xuXG5jb25zdCB7IERBVEFCQVNFX05BTUUsIERBVEFCQVNFX1ZFUlNJT04sIE9CSkVDVF9TVE9SRV9OQU1FIH0gPSBDT05GSUdcblxuY29uc3QgZGJQcm9taXNlID0gb3BlbkRCKERBVEFCQVNFX05BTUUsIERBVEFCQVNFX1ZFUlNJT04sIHtcbiAgdXBncmFkZSAoZGF0YWJhc2UpIHtcbiAgICBkYXRhYmFzZS5jcmVhdGVPYmplY3RTdG9yZShPQkpFQ1RfU1RPUkVfTkFNRSwgeyBrZXlQYXRoOiAnaWQnIH0pXG4gIH1cbn0pXG5cbmNvbnN0IEZhdlJlc3RhdXJhbnRJZGIgPSB7XG4gIGFzeW5jIGdldFJlc3RhdXJhbnQgKGlkKSB7XG4gICAgaWYgKCFpZCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgcmV0dXJuIChhd2FpdCBkYlByb21pc2UpLmdldChPQkpFQ1RfU1RPUkVfTkFNRSwgaWQpXG4gIH0sXG4gIGFzeW5jIGdldEFsbFJlc3RhdXJhbnQgKCkge1xuICAgIHJldHVybiAoYXdhaXQgZGJQcm9taXNlKS5nZXRBbGwoT0JKRUNUX1NUT1JFX05BTUUpXG4gIH0sXG4gIGFzeW5jIHB1dFJlc3RhdXJhbnQgKHJlc3RhdXJhbnQpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG4gICAgaWYgKCFyZXN0YXVyYW50Lmhhc093blByb3BlcnR5KCdpZCcpKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICByZXR1cm4gKGF3YWl0IGRiUHJvbWlzZSkucHV0KE9CSkVDVF9TVE9SRV9OQU1FLCByZXN0YXVyYW50KVxuICB9LFxuICBhc3luYyBkZWxldGVSZXN0YXVyYW50IChpZCkge1xuICAgIHJldHVybiAoYXdhaXQgZGJQcm9taXNlKS5kZWxldGUoT0JKRUNUX1NUT1JFX05BTUUsIGlkKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZhdlJlc3RhdXJhbnRJZGJcbiJdLCJzb3VyY2VSb290IjoiIn0=